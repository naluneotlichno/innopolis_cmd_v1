# Bot Service

Сервис для Telegram-бота с YAML-конфигурацией кнопок и поддержкой нескольких языков.

## Тестирование

Проект использует библиотеку для мокинга `go.uber.org/mock`.

### Генерация моков

```bash
# Установка mockgen, если еще не установлен
go install go.uber.org/mock/mockgen@latest

# Генерация моков для интерфейсов
go generate ./service
```

### Запуск тестов

```bash
# Запуск всех тестов
go test ./...

# Запуск только тестов сервиса бота
go test -v ./service/tests
```

### Создание новых тестов

Для создания новых тестов используйте файл `service/tests/bot_service_test.go` в качестве примера.

Основные шаги:

1. Создайте контроллер для моков: `ctrl := gomock.NewController(t)`
2. Создайте мок нужного интерфейса: `mockBot := mocks.NewMockBotAPI(ctrl)`
3. Настройте ожидаемое поведение мока с помощью EXPECT()
4. Вызовите тестируемый метод
5. Проверьте результаты с помощью assert.Equal() или аналогичных функций

## Структура проекта

- `service/` - основной код сервиса
  - `bot_service.go` - основная логика бота
  - `config.go` - загрузка конфигурации
  - `interfaces.go` - интерфейсы для тестирования
  - `mocks/` - сгенерированные моки для тестирования
  - `tests/` - модульные тесты
    - `bot_service_test.go` - тесты для сервиса бота
- `config/` - файлы конфигурации
- `logs/` - директория для логов
